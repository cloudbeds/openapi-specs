{
  "openapi": "3.0.1",
  "info": {
    "title": "Accounting service API",
    "version": "v0"
  },
  "servers": [
    {
      "url": "https://api.{environment}.com",
      "variables": {
        "environment": {
          "default": "cloudbeds-stage",
          "enum": [
            "cloudbeds-stage",
            "cloudbeds"
          ]
        }
      }
    },
    {
      "url": "https://api.{island}.{environment}.com",
      "variables": {
        "island": {
          "default": "us2",
          "enum": [
            "us2"
          ]
        },
        "environment": {
          "default": "cloudbeds-stage",
          "enum": [
            "cloudbeds-stage",
            "cloudbeds"
          ]
        }
      }
    },
    {
      "url": "http://localhost:8000/accounting/v1.0",
      "description": "Local Host"
    }
  ],
  "paths": {
    "/accounting/v1.0/settings": {
      "get": {
        "tags": [
          "Settings"
        ],
        "description": "Get property settings by its ID",
        "operationId": "getSettings",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SettingResponse"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "404": {
            "$ref": "#/components/responses/404"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Settings"
        ],
        "description": "Update partially or create settings",
        "operationId": "patchSettings",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/SettingPatchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/SettingResponse"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "404": {
            "$ref": "#/components/responses/404"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/accounting/v1.0/deposits/transfer": {
      "post": {
        "tags": [
          "Deposits"
        ],
        "operationId": "postDepositsTransfer",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TransferDepositPostRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AsyncEventResponse"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/accounting/v1.0/accounts-receivable-ledgers": {
      "get": {
        "tags": [
          "Accounts Receivable Ledger"
        ],
        "operationId": "getAccountsReceivableLedgers",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "filter",
            "in": "query",
            "required": false,
            "explode": true,
            "schema": {
              "$ref": "#/components/schemas/filter"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AccountsReceivableLedgerPaginated"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Accounts Receivable Ledger"
        ],
        "operationId": "postAccountsReceivableLedger",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AccountsReceivableLedgerPostRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AccountsReceivableLedgerResponse"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "patch": {
        "tags": [
          "Accounts Receivable Ledger"
        ],
        "operationId": "patchAccountsReceivableLedger",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AccountsReceivableLedgerPatchRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AccountsReceivableLedgerResponse"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/accounting/v1.0/accounts-receivable-ledgers/{accountsReceivableLedgerId}": {
      "get": {
        "tags": [
          "Accounts Receivable Ledger"
        ],
        "operationId": "getAccountsReceivableLedgerById",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "accountsReceivableLedgerId",
            "in": "path",
            "description": "Accounts Receivable ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AccountsReceivableLedgerResponse"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "404": {
            "$ref": "#/components/responses/404"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/accounting/v1.0/accounts-receivable-ledgers/{accountsReceivableLedgerId}/transactions": {
      "get": {
        "tags": [
          "Accounts Receivable Ledger"
        ],
        "operationId": "getAccountsReceivableLedgerTransactions",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "accountsReceivableLedgerId",
            "in": "path",
            "description": "Accounts Receivable ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "pageToken",
            "in": "query",
            "description": "page token",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Size of the page",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "filter",
            "in": "query",
            "required": false,
            "explode": true,
            "schema": {
              "$ref": "#/components/schemas/filter_1"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExtendedTransactionPaginated"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/accounting/v1.0/accounts-receivable-ledgers/totals": {
      "get": {
        "tags": [
          "Accounts Receivable Ledger"
        ],
        "operationId": "getAccountsReceivableLedgerTotals",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "filter",
            "in": "query",
            "required": false,
            "explode": true,
            "schema": {
              "$ref": "#/components/schemas/filter_2"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AccountsReceivableLedgerTotalsResponse"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/accounting/v1.0/accounts-receivable-ledgers/{accountsReceivableLedgerId}/reservation/{reservationId}/balance-transfer": {
      "post": {
        "tags": [
          "Accounts Receivable Ledger"
        ],
        "operationId": "postAccountsReceivableLedgerReservationBalanceTransfer",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "accountsReceivableLedgerId",
            "in": "path",
            "description": "Accounts Receivable ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "reservationId",
            "in": "path",
            "description": "Reservation ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AsyncEventResponse"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "404": {
            "$ref": "#/components/responses/404"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "delete": {
        "tags": [
          "Accounts Receivable Ledger"
        ],
        "operationId": "deleteAccountsReceivableLedgerReservationBalanceTransfer",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "accountsReceivableLedgerId",
            "in": "path",
            "description": "Accounts Receivable ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "reservationId",
            "in": "path",
            "description": "Reservation ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AsyncEventResponse"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          },
          "404": {
            "$ref": "#/components/responses/404"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/accounting/v1.0/accounts-receivable-ledgers/reservation/{reservationId}/balance-transfer": {
      "get": {
        "tags": [
          "Accounts Receivable Ledger"
        ],
        "operationId": "getAccountsReceivableLedgerReservationBalanceTransfer",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "reservationId",
            "in": "path",
            "description": "Reservation ID",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/AccountsReceivableLedgerReservationBalanceTransferResponse"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/accounting/v1.0/custom-general-ledger-codes": {
      "get": {
        "tags": [
          "Custom General Ledger Codes"
        ],
        "operationId": "getCustomGeneralLedgerCodes",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CustomGeneralLedgerCodeModel"
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Custom General Ledger Codes"
        ],
        "description": "Create or update General Ledger Codes.\n",
        "operationId": "putCustomGeneralLedgerCodes",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CustomGeneralLedgerCodesUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "$ref": "#/components/responses/400"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/accounting/v1.0/custom-transaction-codes": {
      "get": {
        "tags": [
          "Custom Transaction Codes"
        ],
        "operationId": "getCustomTransactionCodes",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": {
                    "$ref": "#/components/schemas/CustomTransactionCodesModel"
                  }
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Custom Transaction Codes"
        ],
        "description": "Update custom transaction code mappings. Optional custom general ledger code can also be assigned.\n",
        "operationId": "putCustomTransactionCodes",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CustomTransactionCodesUpdateRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "$ref": "#/components/responses/400"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/accounting/v1.0/custom-transaction-codes/initialize": {
      "description": "Before transaction custom codes can be retrieved and modified, they must be initialized. This process generates transaction custom code records without any mapping. Once the initialization is complete, the codes can be retrieved and modified.\n",
      "post": {
        "tags": [
          "Custom Transaction Codes"
        ],
        "operationId": "initializeCustomTransactionCodes",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "$ref": "#/components/responses/400"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/accounting/v1.0/transactions": {
      "post": {
        "tags": [
          "Transactions"
        ],
        "description": "Supported fields for filtering:\n  - account_category\n  - chart_of_account_type\n  - created_at - Same as `transaction_datetime`\n  - customer_id\n  - custom_code\n  - external_relation_id\n  - external_relation_kind\n  - folio_id\n  - id\n  - internal_code\n  - origin_id\n  - parent_id\n  - routed_from\n  - source_id\n  - source_identifier\n  - source_kind\n  - transaction_datetime\n  - trial_balance_id\n  - service_date\n\nSupported fields for sorting:\n  - created_at - Same as `transaction_datetime`\n  - id\n  - internal_code\n  - source_id\n  - transaction_datetime\n  - service_date\n\nExample request:\n```\n  {\n    \"filters\": {\n      \"and\": [\n        {\n          \"operator\": \"greater_than_or_equal\",\n          \"value\": \"2019-01-11t08:59:00Z\",\n          \"field\": \"transaction_datetime\"\n        },\n        {\n          \"operator\": \"equals\",\n          \"value\": \"123\",\n          \"field\": \"source_id\"\n        },\n        {\n          \"operator\": \"equals\",\n          \"value\": \"RESERVATION\",\n          \"field\": \"source_kind\"\n        },\n        {\n          \"or\": [\n            {\n              \"operator\": \"in\",\n              \"value\": [\"1\", \"2\", \"3\"],\n              \"field\": \"customer_id\"\n            },\n            {\n              \"operator\": \"equals\",\n              \"value\": \"9000\",\n              \"field\": \"internal_code\"\n            }\n          ]\n        }\n      ]\n    },\n    \"pageToken\": null,\n    \"limit\": 10,\n    \"sort\": [\n      {\n        \"field\": \"transaction_datetime\",\n        \"direction\": \"asc\"\n      }\n    ]\n  }\n\nThe API has certain constraints for filters so that the system is able to efficiently query the data. Filters must include on of the following:\n  - filter by 'id' with condition 'equals' or 'in'\n  - filter by both 'source_id' and 'source_kind'\n  - filter by both 'external_relation_id' and 'external_relation_kind'\n  - filter by transaction_datetime\n```\n",
        "operationId": "listTransactions",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ListTransactionsRequest"
              }
            }
          },
          "required": true
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ListTransactionsPaginated"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/accounting/v1.0/trial-balance/configuration/status": {
      "get": {
        "tags": [
          "Trial balance"
        ],
        "description": "Returns information if property has configured trial balance report.\n",
        "operationId": "isTrialBalanceConfigured",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrialBalanceConfigurationStatusResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/accounting/v1.0/trial-balance/configuration/calculate": {
      "post": {
        "tags": [
          "Trial balance"
        ],
        "description": "Get initial Trial Balance based transaction records (till end of yesterday in property time)\n",
        "operationId": "calculateTrialBalance",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrialBalanceResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/accounting/v1.0/trial-balance/configuration": {
      "get": {
        "tags": [
          "Trial balance"
        ],
        "description": "Get configured trial balance.\n",
        "operationId": "getTrialBalanceConfiguration",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrialBalanceResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "post": {
        "tags": [
          "Trial balance"
        ],
        "description": "Configure trial balance for property by saving opening balances for today.\nFail if trial balance configuration already exists.\n",
        "operationId": "setTrialBalance",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          }
        ],
        "requestBody": {
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/TrialBalanceRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          },
          "400": {
            "description": "Bad Request",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiAccountingError"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/accounting/v1.0/deposits/balance": {
      "get": {
        "tags": [
          "Deposits"
        ],
        "description": "Get Deposit Balance For Source or Property\n",
        "operationId": "getDepositBalance",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "sourceId",
            "in": "query",
            "required": false,
            "schema": {
              "type": "integer",
              "description": "Source Id",
              "format": "int64"
            }
          },
          {
            "name": "sourceKind",
            "in": "query",
            "required": false,
            "schema": {
              "$ref": "#/components/schemas/SourceKind"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/DepositBalanceResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/accounting/v1.0/deposits/transactions": {
      "get": {
        "tags": [
          "Deposits"
        ],
        "description": "Get Deposit Transactions\n",
        "operationId": "getDepositTransactions",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "pageToken",
            "in": "query",
            "description": "page token",
            "required": false,
            "schema": {
              "type": "string"
            }
          },
          {
            "name": "pageSize",
            "in": "query",
            "description": "Size of the page",
            "required": false,
            "schema": {
              "type": "integer"
            }
          },
          {
            "name": "filter",
            "in": "query",
            "required": false,
            "explode": true,
            "schema": {
              "$ref": "#/components/schemas/filter_3"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExtendedTransactionPaginated"
                }
              }
            }
          },
          "400": {
            "$ref": "#/components/responses/400"
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/accounting/v1.0/trial-balance/report": {
      "get": {
        "tags": [
          "Trial balance"
        ],
        "description": "Get Trial Balance Report for specific date\n",
        "operationId": "getTrialBalanceReport",
        "parameters": [
          {
            "name": "X-Property-ID",
            "in": "header",
            "description": "Property id",
            "required": true,
            "schema": {
              "type": "integer",
              "format": "int64"
            }
          },
          {
            "name": "date",
            "in": "query",
            "required": true,
            "schema": {
              "type": "string",
              "description": "Requested date",
              "format": "date"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/TrialBalanceReportResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/accounting/v1.0/internal-transaction-codes": {
      "get": {
        "tags": [
          "Internal transaction codes"
        ],
        "operationId": "getInternalTransactionCodes",
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/InternalTransactionCodesListResponse"
                }
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    }
  },
  "components": {
    "schemas": {
      "DepositConsumptionEnum": {
        "type": "string",
        "enum": [
          "MANUAL",
          "CHECK_IN"
        ]
      },
      "SettingValues": {
        "type": "object",
        "properties": {
          "depositConsumption": {
            "$ref": "#/components/schemas/DepositConsumptionEnum"
          }
        }
      },
      "SettingPatchRequest": {
        "type": "object",
        "properties": {
          "settings": {
            "$ref": "#/components/schemas/SettingValues"
          }
        }
      },
      "SettingResponse": {
        "type": "object",
        "properties": {
          "settings": {
            "$ref": "#/components/schemas/SettingValues"
          }
        }
      },
      "AnyValue": {
        "description": "Can be any of supported OpenApi types."
      },
      "ApiAccountingError": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "timestamp": {
            "type": "string",
            "format": "date-time"
          },
          "errorCode": {
            "$ref": "#/components/schemas/ApiErrorCode"
          },
          "errorDetails": {
            "type": "string"
          }
        }
      },
      "AccountsReceivableLedgerStatus": {
        "type": "string",
        "enum": [
          "OPEN",
          "CLOSED"
        ]
      },
      "TransactionState": {
        "type": "string",
        "enum": [
          "POSTED",
          "PENDING"
        ]
      },
      "AccountsReceivableLedgerName": {
        "maxLength": 50,
        "minLength": 1,
        "type": "string"
      },
      "AccountsReceivableLedgerDescription": {
        "maxLength": 200,
        "minLength": 0,
        "type": "string"
      },
      "ApiErrorCode": {
        "type": "string",
        "enum": [
          "UNKNOWN_ERROR",
          "UNEXPECTED_ERROR",
          "ACCESS_DENIED",
          "INVALID_REQUEST",
          "NOT_UNIQUE_VALUE",
          "INVALID_USER_INFORMATION",
          "ENTITY_NOT_FOUND",
          "ACCOUNTS_RECEIVABLE_LEDGER_FEATURE_DISABLED",
          "BOOKING_NOT_FOUND",
          "ACCOUNTS_RECEIVABLE_LEDGER_NOT_FOUND",
          "ACCOUNTS_RECEIVABLE_LEDGER_STATUS_ERROR",
          "BOOKING_STATUS_ERROR"
        ]
      },
      "sortDirection": {
        "type": "string",
        "description": "Direction for sort - asc or desc",
        "x-enum-varnames": [
          "asc",
          "desc"
        ],
        "enum": [
          "asc",
          "desc"
        ]
      },
      "Actions": {
        "type": "array",
        "description": "Returns the list of actions available for the transaction",
        "items": {
          "$ref": "#/components/schemas/Action"
        }
      },
      "Action": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "description": "Type of Action"
          },
          "parameters": {
            "type": "object",
            "additionalProperties": {
              "type": "string"
            },
            "description": "Parameters required for the action, can be any object.\n"
          }
        }
      },
      "UserModel": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "The ID of the user."
          },
          "firstName": {
            "type": "string",
            "description": "The name of the user."
          },
          "lastName": {
            "type": "string",
            "description": "The last name of the user."
          },
          "email": {
            "type": "string",
            "description": "User email"
          },
          "type": {
            "type": "string",
            "description": "REAL_USER - user was found, UNKNOWN_USER - user was not found, SYSTEM_USER - user_id = 0 OR null",
            "enum": [
              "REAL_USER",
              "SYSTEM_USER",
              "UNKNOWN_USER"
            ]
          }
        }
      },
      "CustomGeneralLedgerCodeModel": {
        "required": [
          "code",
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "version": {
            "type": "integer"
          },
          "name": {
            "minLength": 1,
            "type": "string"
          },
          "code": {
            "minLength": 1,
            "type": "string"
          },
          "group": {
            "type": "string",
            "enum": [
              "payments",
              "products",
              "reservations",
              "taxes_fees"
            ]
          },
          "archived": {
            "type": "boolean",
            "default": false
          }
        }
      },
      "CustomTransactionCodesModel": {
        "required": [
          "code",
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "version": {
            "type": "integer"
          },
          "name": {
            "minLength": 1,
            "type": "string"
          },
          "code": {
            "minLength": 1,
            "type": "string"
          },
          "sku": {
            "minLength": 1,
            "type": "string"
          },
          "itemGroup": {
            "type": "string",
            "enum": [
              "items_services",
              "reservations",
              "taxes_fees",
              "payments",
              "accrual_accounting",
              "custom_item"
            ]
          },
          "customGeneralLedgerCodeId": {
            "type": "string"
          }
        }
      },
      "CustomTransactionCodesUpdateModel": {
        "required": [
          "code"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "code": {
            "minLength": 1,
            "type": "string"
          },
          "customGeneralLedgerCodeId": {
            "type": "string"
          }
        }
      },
      "CustomGeneralLedgerCodesUpdateRequest": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CustomGeneralLedgerCodeModel"
            }
          }
        }
      },
      "CustomTransactionCodesUpdateRequest": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/CustomTransactionCodesUpdateModel"
            }
          }
        }
      },
      "TransactionItemMappingModel": {
        "required": [
          "code",
          "name"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "version": {
            "type": "integer"
          },
          "name": {
            "minLength": 1,
            "type": "string"
          },
          "code": {
            "minLength": 1,
            "type": "string"
          },
          "sku": {
            "minLength": 1,
            "type": "string"
          },
          "itemGroup": {
            "type": "string",
            "enum": [
              "items_services",
              "reservations",
              "taxes_fees",
              "payments",
              "accrual_accounting",
              "custom_item"
            ]
          },
          "accountId": {
            "type": "string"
          }
        }
      },
      "TransactionItemMappingUpdateModel": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "code": {
            "minLength": 1,
            "type": "string"
          },
          "accountId": {
            "type": "string"
          }
        }
      },
      "TransactionItemMappingRequest": {
        "type": "object",
        "properties": {
          "data": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TransactionItemMappingUpdateModel"
            }
          }
        }
      },
      "ListTransactionsRequest": {
        "required": [
          "filters"
        ],
        "type": "object",
        "properties": {
          "filters": {
            "$ref": "#/components/schemas/Filters"
          },
          "pageToken": {
            "type": "string"
          },
          "limit": {
            "type": "integer",
            "description": "Optional parameter. Default value is 100, maximum value is 1100.",
            "format": "int32",
            "default": 100
          },
          "sort": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/Sort"
            }
          }
        }
      },
      "ListTransactionsPaginated": {
        "type": "object",
        "properties": {
          "transactions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TransactionResponse"
            }
          },
          "nextPageToken": {
            "$ref": "#/components/schemas/NextPageToken"
          }
        }
      },
      "AccountsReceivableLedgerResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "maxLength": 50,
            "minLength": 1,
            "type": "string"
          },
          "description": {
            "maxLength": 200,
            "minLength": 0,
            "type": "string"
          },
          "status": {
            "$ref": "#/components/schemas/AccountsReceivableLedgerStatus"
          },
          "propertyId": {
            "type": "string"
          },
          "total": {
            "type": "number"
          },
          "paid": {
            "type": "number"
          },
          "balance": {
            "type": "number"
          },
          "createdAt": {
            "type": "string",
            "description": "Created datetime (ISO 8601) in UTC",
            "example": "2017-07-21T17:32:28.000Z"
          },
          "updatedAt": {
            "type": "string",
            "description": "Updated datetime (ISO 8601) in UTC",
            "example": "2017-07-21T17:32:28.000Z"
          }
        }
      },
      "AccountsReceivableLedgerPostRequest": {
        "required": [
          "name"
        ],
        "type": "object",
        "properties": {
          "name": {
            "$ref": "#/components/schemas/AccountsReceivableLedgerName"
          },
          "description": {
            "$ref": "#/components/schemas/AccountsReceivableLedgerDescription"
          }
        }
      },
      "AccountsReceivableLedgerPatchRequest": {
        "required": [
          "id"
        ],
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "name": {
            "$ref": "#/components/schemas/AccountsReceivableLedgerName"
          },
          "description": {
            "$ref": "#/components/schemas/AccountsReceivableLedgerDescription"
          },
          "status": {
            "$ref": "#/components/schemas/AccountsReceivableLedgerStatus"
          }
        }
      },
      "AccountsReceivableLedgerPaginated": {
        "type": "object",
        "properties": {
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AccountsReceivableLedgerResponse"
            }
          },
          "nextPageToken": {
            "$ref": "#/components/schemas/NextPageToken"
          }
        }
      },
      "TransactionResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Id of the transaction."
          },
          "propertyId": {
            "type": "string",
            "description": "Property ID where the transaction was created."
          },
          "internalTransactionCode": {
            "type": "string",
            "description": "Internal code for the transaction, managed by Cloudbeds."
          },
          "customTransactionCode": {
            "type": "string",
            "description": "Custom code for the transaction, managed by Property."
          },
          "generalLedgerCustomCode": {
            "type": "string",
            "description": "Custom code for general ledger, managed by Property."
          },
          "amount": {
            "type": "number",
            "description": "Amount of the transaction."
          },
          "currencyScale": {
            "type": "integer",
            "description": "Number of decimal places for the currency."
          },
          "currency": {
            "type": "string",
            "description": "Currency (ISO code) applied to the amount of the transaction."
          },
          "customerId": {
            "type": "string",
            "description": "Id of the user who perform the transaction, also know as guest id."
          },
          "rootId": {
            "type": "string",
            "description": "Root Id of the transaction, it contains the id of the transaction that is related to it."
          },
          "parentId": {
            "type": "string",
            "description": "Id of the transaction that is parent of this one. For example Tax on top of a rate, tax on top of a fee, etc."
          },
          "sourceId": {
            "type": "string",
            "description": "Id of the source. It is related with the source_kind, so if sourceKind is RESERVATION, is the reservation id."
          },
          "subSourceId": {
            "type": "string",
            "description": "Id of the sub source. At the moment only for reservations that is the booking_room_id."
          },
          "sourceKind": {
            "$ref": "#/components/schemas/SourceKind"
          },
          "account": {
            "$ref": "#/components/schemas/Account"
          },
          "externalRelationId": {
            "type": "string",
            "description": "External relation id, for example if the transaction is a payment it will contain payment id."
          },
          "externalRelationKind": {
            "type": "string",
            "description": "Kind of the external relation id, for example if transaction is a payment it will contain PAYMENT.",
            "enum": [
              "ROOM",
              "PAYMENT",
              "ITEM",
              "ITEM_POS",
              "ADDON",
              "RESERVATION",
              "ACCOUNTS_RECEIVABLE",
              "ROOM_REVENUE",
              "TAX",
              "FEE",
              "ADJUSTMENT",
              "PAYMENT_FEE"
            ]
          },
          "originId": {
            "type": "string",
            "description": "Id of origin of the transaction. For example if the transaction is created based on a rate, is the rate id."
          },
          "routedFrom": {
            "type": "string",
            "description": "Id of the transaction that was routed from. It can be null."
          },
          "quantity": {
            "type": "integer",
            "description": "Amount of items purchased.",
            "format": "int32"
          },
          "description": {
            "type": "string",
            "description": "Description of the transaction."
          },
          "userId": {
            "type": "string",
            "description": "ID of the user who created the transaction"
          },
          "sourceDatetime": {
            "type": "string",
            "description": "Date time the source was created. (ISO 8601) in UTC",
            "format": "date-time",
            "example": "2017-07-21T17:32:28Z"
          },
          "transactionDatetime": {
            "type": "string",
            "description": "Date time when the transaction should be created at. (ISO 8601) in UTC",
            "format": "date-time",
            "example": "2017-07-21T17:32:28Z"
          },
          "transactionDatetimePropertyTime": {
            "type": "string",
            "description": "Date time when the transaction should be created at base on the property timezone.",
            "format": "date-time"
          },
          "serviceDate": {
            "type": "string",
            "description": "Date when the posted transaction was created (property time).",
            "format": "date"
          },
          "createdAt": {
            "type": "string",
            "description": "Date time when the transaction was inserted on the database. (ISO 8601) in UTC",
            "format": "date-time",
            "example": "2017-07-21T17:32:28Z"
          },
          "sourceIdentifier": {
            "type": "string",
            "description": "If source_kind = RESERVATION, this field will contain a reservation identifier. For a transaction with source_kind = GROUP_PROFILE, this field will contain a group code. For source_king = HOUSE_ACCOUNT it will be null.",
            "example": "38883261663"
          },
          "subSourceIdentifier": {
            "type": "string",
            "description": "identifier of a booking room",
            "example": "38883261663-2"
          }
        }
      },
      "ExtendedTransactionPaginated": {
        "type": "object",
        "properties": {
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ExtendedTransactionResponse"
            }
          },
          "nextPageToken": {
            "$ref": "#/components/schemas/NextPageToken"
          }
        }
      },
      "ExtendedTransactionResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Id of the transaction."
          },
          "transactionDate": {
            "type": "string",
            "description": "Date time of the transaction.",
            "format": "date-time"
          },
          "reservationName": {
            "type": "string",
            "description": "reservation name."
          },
          "checkinDate": {
            "type": "string",
            "description": "Check in date.",
            "format": "date"
          },
          "checkoutDate": {
            "type": "string",
            "description": "Check out date.",
            "format": "date"
          },
          "amount": {
            "type": "number",
            "description": "amount of the transaction."
          },
          "reservationId": {
            "type": "string",
            "description": "Id of reservation"
          },
          "reservationIdentifier": {
            "type": "string",
            "description": "Identifier of reservation"
          },
          "internalTransactionCode": {
            "type": "string",
            "description": "Internal Transaction Code"
          },
          "description": {
            "type": "string",
            "description": "Description"
          },
          "notes": {
            "type": "string",
            "description": "Notes"
          },
          "folioId": {
            "type": "string",
            "description": "Folio ID"
          },
          "state": {
            "type": "string",
            "enum": [
              "VOIDED",
              "TRANSFERRED",
              "CANCELLED",
              "REFUNDED",
              "DELETED"
            ]
          },
          "currency": {
            "type": "string",
            "description": "Currency ISO code"
          },
          "currencyScale": {
            "type": "integer",
            "description": "Number of decimal places for the currency."
          },
          "reservationStatus": {
            "$ref": "#/components/schemas/ReservationStatus"
          },
          "posted": {
            "type": "boolean",
            "description": "Flag to mark if transaction is posted"
          },
          "user": {
            "$ref": "#/components/schemas/UserModel"
          },
          "actions": {
            "$ref": "#/components/schemas/Actions"
          }
        }
      },
      "DepositBalanceResponse": {
        "type": "object",
        "properties": {
          "postedBalance": {
            "type": "number",
            "description": "Posted balance in smallest unit according to the currency."
          },
          "pendingBalance": {
            "type": "number",
            "description": "Pending balance in smallest unit according to the currency."
          }
        }
      },
      "AccountsReceivableLedgerTotalsResponse": {
        "type": "object",
        "properties": {
          "total": {
            "type": "number"
          },
          "paid": {
            "type": "number"
          },
          "balance": {
            "type": "number"
          }
        }
      },
      "AccountsReceivableLedgerReservationBalanceTransferResponse": {
        "type": "object",
        "properties": {
          "transaction": {
            "$ref": "#/components/schemas/AccountsReceivableLedgerReservationBalanceTransferResponse_transaction"
          },
          "accountsReceivableId": {
            "type": "string"
          }
        }
      },
      "TransferDepositPostRequest": {
        "type": "object",
        "properties": {
          "transaction_ids": {
            "minItems": 1,
            "type": "array",
            "items": {
              "type": "string",
              "description": "List of transaction ids for transferring a deposit"
            }
          }
        }
      },
      "AsyncEventResponse": {
        "type": "object",
        "properties": {
          "eventId": {
            "type": "string",
            "description": "Id of event which will be processed asynchronous."
          }
        }
      },
      "Account": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "ID of account"
          },
          "description": {
            "type": "string",
            "description": "Description of the account"
          },
          "name": {
            "type": "string",
            "description": "Name of the account"
          },
          "category": {
            "$ref": "#/components/schemas/AccountCategory"
          },
          "chartOfAccountType": {
            "$ref": "#/components/schemas/ChartOfAccountType"
          }
        }
      },
      "SourceKind": {
        "type": "string",
        "description": "Source Kind. At the moment only available RESERVATION | GROUP_PROFILE | HOUSE_ACCOUNT | ACCOUNTS_RECEIVABLE.",
        "enum": [
          "RESERVATION",
          "HOUSE_ACCOUNT",
          "GROUP_PROFILE",
          "ACCOUNTS_RECEIVABLE_LEDGER"
        ]
      },
      "AccountCategory": {
        "type": "string",
        "description": "Account category",
        "enum": [
          "DEPOSITS"
        ]
      },
      "ChartOfAccountType": {
        "type": "string",
        "description": "Chart of account type",
        "enum": [
          "LIABILITIES",
          "REVENUE",
          "ASSETS",
          "EQUITY",
          "EXPENSES"
        ]
      },
      "InternalTransactionCodeGroupEnum": {
        "type": "string",
        "enum": [
          "ROOM_REVENUE_RATE",
          "ROOM_REVENUE_MANUAL",
          "ROOM_REVENUE_CANCELLATION",
          "ROOM_REVENUE_NO_SHOW",
          "ITEM_SERVICE",
          "ADDON",
          "CUSTOM_ITEM",
          "FEE",
          "TAX",
          "PAYMENT",
          "ACCOUNTS_RECEIVABLE",
          "N_A"
        ]
      },
      "InternalTransactionCodeResponse": {
        "type": "object",
        "properties": {
          "id": {
            "type": "integer",
            "format": "int64"
          },
          "code": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "group": {
            "$ref": "#/components/schemas/InternalTransactionCodeGroupEnum"
          }
        }
      },
      "InternalTransactionCodesListResponse": {
        "type": "object",
        "properties": {
          "content": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/InternalTransactionCodeResponse"
            }
          }
        }
      },
      "TrialBalanceRequest": {
        "required": [
          "accountsReceivableLedgerOpeningBalance",
          "depositsLedgerOpeningBalance",
          "guestLedgerOpeningBalance"
        ],
        "type": "object",
        "properties": {
          "depositsLedgerOpeningBalance": {
            "type": "number"
          },
          "accountsReceivableLedgerOpeningBalance": {
            "type": "number"
          },
          "guestLedgerOpeningBalance": {
            "type": "number"
          }
        }
      },
      "TrialBalanceResponse": {
        "type": "object",
        "properties": {
          "date": {
            "type": "string",
            "description": "Date of the trial balance.",
            "format": "date"
          },
          "depositsLedgerOpeningBalance": {
            "type": "integer",
            "format": "int64"
          },
          "accountsReceivableLedgerOpeningBalance": {
            "type": "integer",
            "format": "int64"
          },
          "guestLedgerOpeningBalance": {
            "type": "integer",
            "format": "int64"
          }
        }
      },
      "TrialBalanceConfigurationStatusResponse": {
        "type": "object",
        "properties": {
          "configuredAt": {
            "type": "string",
            "description": "Configured datetime (ISO 8601) in UTC",
            "example": "2017-07-21T17:32:28.000Z"
          },
          "configured": {
            "type": "boolean",
            "description": "True if this property has configured trial balance.\n"
          }
        }
      },
      "TrialBalanceReportResponse": {
        "type": "object",
        "properties": {
          "trialBalanceId": {
            "type": "string"
          },
          "summary": {
            "$ref": "#/components/schemas/TrialBalanceReportSummary"
          },
          "ledgerBalances": {
            "$ref": "#/components/schemas/TrialBalanceReportLedgerBalances"
          },
          "guestLedger": {
            "$ref": "#/components/schemas/TrialBalanceReportGuestLedger"
          }
        }
      },
      "TrialBalanceReportSummary": {
        "type": "object",
        "properties": {
          "openingBalance": {
            "type": "number"
          },
          "transactionsTotalAmount": {
            "type": "number"
          },
          "ledgerActivity": {
            "type": "number"
          },
          "depositActivity": {
            "type": "number"
          },
          "arPayments": {
            "type": "number",
            "deprecated": true
          },
          "depositTransfers": {
            "type": "number"
          },
          "arActivity": {
            "type": "number"
          },
          "closingBalance": {
            "type": "number"
          },
          "arTransfers": {
            "type": "number"
          },
          "hotelOpeningBalance": {
            "type": "number"
          },
          "hotelClosingBalance": {
            "type": "number"
          }
        }
      },
      "TrialBalanceReportLedgerBalances": {
        "type": "object",
        "properties": {
          "depositLedger": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TrialBalanceReportCodeInfo"
            }
          },
          "guestLedger": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TrialBalanceReportCodeInfo"
            }
          },
          "accountsReceivable": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TrialBalanceReportCodeInfo"
            }
          }
        }
      },
      "TrialBalanceReportGuestLedger": {
        "type": "object",
        "properties": {
          "charges": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TrialBalanceReportCodeInfo"
            }
          },
          "taxes": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TrialBalanceReportCodeInfo"
            }
          },
          "payments": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/TrialBalanceReportCodeInfo"
            }
          }
        }
      },
      "TrialBalanceReportCodeInfo": {
        "type": "object",
        "properties": {
          "code": {
            "type": "string",
            "description": "Transaction code"
          },
          "description": {
            "type": "string",
            "description": "Description of the row",
            "enum": [
              "RATE",
              "RATE_A",
              "RATE_V",
              "ROOM_REVENUE",
              "ROOM_REVENUE_A",
              "ROOM_REVENUE_V",
              "CANCELLATION",
              "CANCELLATION_A",
              "CANCELLATION_V",
              "NO_SHOW",
              "NO_SHOW_A",
              "NO_SHOW_V",
              "ITEM_SERVICE",
              "ITEM_SERVICE_A",
              "ITEM_SERVICE_V",
              "ADDON",
              "ADDON_A",
              "ADDON_V",
              "CUSTOM_ITEM_POS",
              "CUSTOM_ITEM_POS_A",
              "CUSTOM_ITEM_POS_V",
              "FEE",
              "FEE_A",
              "FEE_V",
              "TAX",
              "TAX_A",
              "TAX_V",
              "PAYMENT",
              "PAYMENT_V",
              "PAYMENT_R",
              "PAYMENT_CASH",
              "PAYMENT_CASH_V",
              "PAYMENT_BANK",
              "PAYMENT_BANK_V",
              "PAYMENT_CARD",
              "PAYMENT_CARD_V",
              "REFUND",
              "REFUND_CASH",
              "REFUND_BANK",
              "REFUND_CARD",
              "DEPOSIT_LEDGER_BALANCE",
              "DEPOSIT_LEDGER_BALANCE_PREVIOUS_DAY",
              "DEPOSIT_PAYMENTS",
              "DEPOSIT_TRANSFER_OUT",
              "GUEST_LEDGER_BALANCE",
              "GUEST_LEDGER_BALANCE_PREVIOUS_DAY",
              "GUEST_LEDGER_CHARGES",
              "DEPOSIT_TRANSFER_IN",
              "GUEST_LEDGER_PAYMENTS",
              "AR_BALANCE",
              "AR_BALANCE_PREVIOUS_DAY",
              "AR_TRANSFER_IN",
              "AR_TRANSFER_OUT",
              "AR_PAYMENTS"
            ]
          },
          "amount": {
            "type": "number",
            "description": "Total amount for specific code"
          }
        }
      },
      "LogicalOperator": {
        "type": "string",
        "x-enum-varnames": [
          "and",
          "or"
        ],
        "default": "and",
        "enum": [
          "and",
          "or"
        ]
      },
      "ReservationStatus": {
        "type": "string",
        "description": "Enum of reservation statuses",
        "x-enum-varnames": [
          "checked_out",
          "checked_in",
          "confirmed",
          "canceled",
          "not_confirmed",
          "inquiry",
          "deleted",
          "no_show"
        ],
        "enum": [
          "checked_out",
          "checked_in",
          "confirmed",
          "canceled",
          "not_confirmed",
          "inquiry",
          "deleted",
          "no_show"
        ]
      },
      "ConditionalOperator": {
        "type": "string",
        "x-enum-varnames": [
          "greater_than_or_equal",
          "greater_than",
          "less_than_or_equal",
          "less_than",
          "equals",
          "not_equals",
          "in",
          "not_in",
          "contains",
          "not_contains",
          "is_null",
          "not_null"
        ],
        "enum": [
          "greater_than_or_equal",
          "greater_than",
          "less_than_or_equal",
          "less_than",
          "equals",
          "not_equals",
          "in",
          "not_in",
          "contains",
          "not_contains",
          "is_null",
          "not_null"
        ]
      },
      "FieldFilter": {
        "required": [
          "field",
          "operator"
        ],
        "type": "object",
        "properties": {
          "operator": {
            "$ref": "#/components/schemas/ConditionalOperator"
          },
          "value": {
            "$ref": "#/components/schemas/AnyValue"
          },
          "field": {
            "type": "string"
          }
        }
      },
      "Filters": {
        "type": "object",
        "oneOf": [
          {
            "$ref": "#/components/schemas/AndOrGroup"
          },
          {
            "$ref": "#/components/schemas/FieldFilter"
          }
        ]
      },
      "AndOrGroup": {
        "type": "object",
        "properties": {
          "and": {
            "type": "array",
            "items": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/AndOrGroup"
                },
                {
                  "$ref": "#/components/schemas/FieldFilter"
                }
              ]
            }
          },
          "or": {
            "type": "array",
            "items": {
              "oneOf": [
                {
                  "$ref": "#/components/schemas/AndOrGroup"
                },
                {
                  "$ref": "#/components/schemas/FieldFilter"
                }
              ]
            }
          }
        }
      },
      "Sort": {
        "required": [
          "direction",
          "field"
        ],
        "type": "object",
        "properties": {
          "field": {
            "type": "string"
          },
          "direction": {
            "$ref": "#/components/schemas/sortDirection"
          }
        }
      },
      "PageDetails": {
        "type": "object",
        "properties": {
          "size": {
            "type": "integer",
            "format": "int32"
          },
          "number": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "NextPageToken": {
        "type": "string",
        "description": "Token for fetching the next page of results"
      },
      "filter": {
        "type": "object",
        "properties": {
          "searchQuery": {
            "minLength": 1,
            "type": "string"
          },
          "createdDateTimeFrom": {
            "type": "string",
            "format": "date-time"
          },
          "createdDateTimeTo": {
            "type": "string",
            "format": "date-time"
          },
          "balanceFrom": {
            "type": "integer",
            "format": "int64"
          },
          "balanceTo": {
            "type": "integer",
            "format": "int64"
          },
          "totalFrom": {
            "type": "integer",
            "format": "int64"
          },
          "totalTo": {
            "type": "integer",
            "format": "int64"
          },
          "paidFrom": {
            "type": "integer",
            "format": "int64"
          },
          "paidTo": {
            "type": "integer",
            "format": "int64"
          },
          "status": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AccountsReceivableLedgerStatus"
            }
          },
          "sortBy": {
            "type": "string",
            "description": "Sort field",
            "x-enum-varnames": [
              "status",
              "name",
              "created_at",
              "balance",
              "paid",
              "total"
            ],
            "enum": [
              "status",
              "name",
              "created_at",
              "balance",
              "paid",
              "total"
            ]
          },
          "sortDirection": {
            "$ref": "#/components/schemas/sortDirection"
          },
          "pageToken": {
            "type": "string"
          },
          "pageSize": {
            "type": "integer",
            "format": "int32"
          }
        }
      },
      "filter_1": {
        "type": "object",
        "properties": {
          "transactionStates": {
            "type": "array",
            "description": "transaction states",
            "items": {
              "$ref": "#/components/schemas/TransactionState"
            }
          },
          "searchQuery": {
            "minLength": 3,
            "type": "string"
          },
          "transactionDateFrom": {
            "type": "string",
            "format": "date"
          },
          "transactionDateTo": {
            "type": "string",
            "format": "date"
          },
          "checkinDateFrom": {
            "type": "string",
            "format": "date"
          },
          "checkinDateTo": {
            "type": "string",
            "format": "date"
          },
          "checkoutDateFrom": {
            "type": "string",
            "format": "date"
          },
          "checkoutDateTo": {
            "type": "string",
            "format": "date"
          },
          "transactionType": {
            "type": "array",
            "items": {
              "type": "string",
              "description": "Enum of transaction types",
              "enum": [
                "TRANSFER",
                "UNDO_TRANSFER",
                "PAYMENT"
              ]
            }
          },
          "userId": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            }
          },
          "sortBy": {
            "type": "string",
            "description": "Sort field",
            "enum": [
              "CHECKOUT_DATE",
              "CHECKIN_DATE",
              "TRANSACTION_DATE",
              "AMOUNT"
            ]
          },
          "sortDirection": {
            "$ref": "#/components/schemas/sortDirection"
          }
        }
      },
      "filter_2": {
        "type": "object",
        "properties": {
          "status": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/AccountsReceivableLedgerStatus"
            }
          }
        }
      },
      "filter_3": {
        "type": "object",
        "properties": {
          "transactionStates": {
            "type": "array",
            "description": "transaction states",
            "items": {
              "$ref": "#/components/schemas/TransactionState"
            }
          },
          "includeInactive": {
            "type": "boolean",
            "description": "Include inactive transactions (voided, consumed, cancelled, deleted)",
            "default": true
          },
          "reservationId": {
            "type": "integer",
            "format": "int64"
          },
          "transactionDateFrom": {
            "type": "string",
            "format": "date"
          },
          "transactionDateTo": {
            "type": "string",
            "format": "date"
          },
          "checkinDateFrom": {
            "type": "string",
            "format": "date"
          },
          "checkinDateTo": {
            "type": "string",
            "format": "date"
          },
          "checkoutDateFrom": {
            "type": "string",
            "format": "date"
          },
          "checkoutDateTo": {
            "type": "string",
            "format": "date"
          },
          "reservationStatus": {
            "$ref": "#/components/schemas/ReservationStatus"
          },
          "userId": {
            "type": "array",
            "items": {
              "type": "integer",
              "format": "int64"
            }
          },
          "sortBy": {
            "type": "string",
            "description": "Sort field",
            "enum": [
              "CHECKOUT_DATE",
              "CHECKIN_DATE",
              "TRANSACTION_DATE",
              "AMOUNT",
              "RESERVATION_STATUS"
            ]
          },
          "sortDirection": {
            "$ref": "#/components/schemas/sortDirection"
          }
        }
      },
      "AccountsReceivableLedgerReservationBalanceTransferResponse_transaction": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string",
            "description": "Posted transaction id"
          },
          "amount": {
            "type": "number"
          }
        }
      }
    },
    "responses": {
      "400": {
        "description": "Bad Request",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ApiAccountingError"
            }
          }
        }
      },
      "403": {
        "description": "Access denied",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ApiAccountingError"
            }
          }
        }
      },
      "404": {
        "description": "Not found",
        "content": {
          "application/json": {
            "schema": {
              "$ref": "#/components/schemas/ApiAccountingError"
            }
          }
        }
      }
    },
    "parameters": {
      "GetAccountsReceivableLedgerTotalsFilterParameter": {
        "name": "filter",
        "in": "query",
        "required": false,
        "explode": true,
        "schema": {
          "$ref": "#/components/schemas/filter_2"
        }
      },
      "accountsReceivableLedgerFilter": {
        "name": "filter",
        "in": "query",
        "required": false,
        "explode": true,
        "schema": {
          "$ref": "#/components/schemas/filter"
        }
      },
      "accountsReceivableLedgerTransactionsFilter": {
        "name": "filter",
        "in": "query",
        "required": false,
        "explode": true,
        "schema": {
          "$ref": "#/components/schemas/filter_1"
        }
      },
      "depositTransactionsFilter": {
        "name": "filter",
        "in": "query",
        "required": false,
        "explode": true,
        "schema": {
          "$ref": "#/components/schemas/filter_3"
        }
      },
      "propertyId": {
        "name": "propertyId",
        "in": "path",
        "description": "Property id",
        "required": true,
        "schema": {
          "type": "integer",
          "format": "int64"
        }
      },
      "propertyIdHeader": {
        "name": "X-Property-ID",
        "in": "header",
        "description": "Property id",
        "required": true,
        "schema": {
          "type": "integer",
          "format": "int64"
        }
      },
      "apiVersion": {
        "name": "apiVersion",
        "in": "path",
        "description": "API Version",
        "required": true,
        "schema": {
          "type": "string",
          "enum": [
            "v1.0"
          ]
        }
      },
      "accountsReceivableLedgerId": {
        "name": "accountsReceivableLedgerId",
        "in": "path",
        "description": "Accounts Receivable ID",
        "required": true,
        "schema": {
          "type": "integer",
          "format": "int64"
        }
      },
      "reservationId": {
        "name": "reservationId",
        "in": "path",
        "description": "Reservation ID",
        "required": true,
        "schema": {
          "type": "integer",
          "format": "int64"
        }
      }
    },
    "securitySchemes": {
      "bearerAuth": {
        "type": "http",
        "scheme": "bearer",
        "bearerFormat": "JWT"
      }
    }
  }
}
